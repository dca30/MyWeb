<div id="card-container">
    <div class="card">Card 1</div>
    <div class="card">Card 2</div>
    <div class="card">Card 3</div>
    <div class="card">Card 4</div>
    <div class="card">Card 5</div>
    <div class="card">Card 6</div>
    <div class="card">Card 7</div>
    <div class="card">Card 8</div>
    <div class="card">Card 9</div>
    <div class="card">Card 10</div>
</div>

<button id="expand-button">Expand</button>
<style>
    #card-container {
        display: flex;
        flex-wrap: wrap;
    }

    .card {
        flex-basis: 20%;
        min-width: 200px;
        margin: 5px;
        border: 1px solid black;
        box-shadow: 2px 2px 2px #888888;
        opacity: 1;
        transition: all 0.5s ease-in-out;
    }
</style>
<script>
    let expanded = false;
    const cardContainer = document.getElementById("card-container");
    const expandButton = document.getElementById("expand-button");

    expandButton.addEventListener("click", () => {
        expanded = !expanded;
        const cards = cardContainer.querySelectorAll(".card");
        cards.forEach((card) => {
            card.style.opacity = "0";
            card.style.visibility = "hidden";
        });
        setTimeout(() => {
            cards.forEach((card) => {
                card.style.flexBasis = expanded ? "100%" : "20%";
            });
            setTimeout(() => {
                cards.forEach((card) => {
                    card.style.opacity = "1";
                    card.style.visibility = "visible";
                });
            }, 500);
        }, 500);
    });
</script>