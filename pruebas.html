<link href="vendor/fontawesome-free-5.15.4-web/css/all.min.css" rel="stylesheet" />
<link href="vendor/fontawesome-free-6.2.1-web/css/all.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<script src="vendor/bootstrap-5.0.2-dist/js/bootstrap.bundle.min.js"></script>
<script src="https://kit.fontawesome.com/66aa7c98b3.js" crossorigin="anonymous"></script>

<div class="row" id="cardTimeline">
  <div class="section-title">
    <h4 class="py-4" data-translate="interests"></h4>
  </div>
  <div class="container-timeline container1-timeline"></div>
  <div class="section-title">
    <h4 class="py-4" data-translate="hobbies"></h4>
  </div>
  <div class="container-timeline container2-timeline"></div>
</div>
<style>
  .center {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100vh;
    flex-direction: column;
  }

  .container-timeline {
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 50px;
  }

  .dot {
    width: 30px;
    height: 30px;
    border-radius: 30px;
    background-color: black;
    cursor: pointer;
    position: relative;
    transition: all 0.5s ease;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .line {
    width: 50px;
    height: 4px;
    background-color: black;
  }

  .diagonal {
    position: absolute;
    top: -55px;
    left: 18px;
    transform: rotate(-45deg);
    color: black;
    text-align: center;
  }
  .bigger {
    transform: scale(1.15);
  }

  .bold {
    font-weight: bold;
  }

  .primary {
    background-color: black;
  }

  .secondary {
    background-color: lightgray;
  }

  .hide {
    display: none !important;
  }

  .fas,
  .fa-brands {
    color: white;
  }

  #cardTimeline {
    border: 1px solid #ccc;
    transition: transform 0.5s ease;
    box-shadow: 0 4px 6px 0 rgba(22, 22, 26, 0.18);
    border-radius: 0;
  }
</style>
<script>
  //Primera timeline
  const container1 = document.querySelector(".container1-timeline");
  const words1 = [
    "Cyber Seguridad",
    "Servidores",
    "Frontend",
    "Backend",
    "Linux",
    "OS",
    "Automatizacion",
  ];
  const icons1 = [
    ["fas", "fa-shield-alt"],
    ["fas", "fa-server"],
    ["fas", "fa-code"],
    ["fas", "fa-database"],
    ["fa-brands", "fa-linux"],
    ["fas", "fa-laptop-code"],
    ["fas", "fa-robot"],
  ];
  //Segunda timeline
  const container2 = document.querySelector(".container2-timeline");
  const words2 = [
    "Tenis",
    "padel",
    "gym",
    "bici",
    "correr",
    "cerveza",
    "fiesta",
    "bar",
    "electronica",
    "series",
    "peliculas",
  ];
  const icons2 = [
    ["fas", "fa-tennis-ball"],
    ["fas", "fa-paddle-ball"],
    ["fas", "fa-dumbbell"],
    ["fas", "fa-bicycle"],
    ["fas", "fa-running"],
    ["fas", "fa-beer"],
    ["fas", "fa-glass-cheers"],
    ["fas", "fa-beer"],
    ["fas", "fa-plug"],
    ["fas", "fa-tv"],
    ["fas", "fa-film"],
  ];
  createTimeline(words1, container1, icons1);
  createTimeline(words2, container2, icons2);

  function createTimeline(words, container, icons) {
    createCirclesAndLines(words, container);
    // Add click event listener to circles
    let lastClicked;
    const circles = document.querySelectorAll(".dot");
    circles.forEach((circle) => {
      addClickEventToCircle(circle);
    });

    function createCirclesAndLines(words, container) {
      // Create start line
      const startLine = document.createElement("span");
      startLine.classList.add("line");
      container.prepend(startLine);

      // Create circles for each word
      words.forEach((word, index) => {
        const circle = createCircle(word, index);
        container.appendChild(circle);
        index < words.length - 1 ? container.appendChild(createLine()) : null;
      });

      // Create end line
      const endLine = document.createElement("span");
      endLine.classList.add("line");
      container.appendChild(endLine);
    }
    // Create circle
    function createCircle(word, index) {
      const circle = document.createElement("div");
      circle.classList.add("dot");

      const diagonal = document.createElement("p");
      diagonal.classList.add("diagonal");
      diagonal.innerText = word;

      // Add Font Awesome icon to circle
      const iconClasses = icons[index];
      icon = iconClasses
        ? ((icon = document.createElement("i")),
          icon.classList.add(...iconClasses, "icon", "hide"),
          icon)
        : null;

      circle.appendChild(icon);
      circle.appendChild(diagonal);
      return circle;
    }
    // Create line
    function createLine() {
      const line = document.createElement("span");
      line.classList.add("line");
      return line;
    }
    // Add click event to circle
    function addClickEventToCircle(circle) {
      circle.addEventListener("click", function () {
        lastClicked
          ? (lastClicked.classList.toggle("bigger"),
            lastClicked.classList.remove("bold"),
            lastClicked.querySelector(".icon")
              ? lastClicked.querySelector(".icon").classList.add("hide")
              : null)
          : null;
        circle.classList.add("bigger");
        circle.classList.contains("bigger")
          ? circle.querySelector(".icon").classList.remove("hide")
          : circle.querySelector(".icon").classList.add("hide");
        circle.style.backgroundColor = "black";
        circle.querySelector(".diagonal").classList.add("bold");
        lastClicked
          ? lastClicked.querySelector(".diagonal").classList.remove("bold")
          : null;
        lastClicked = circle;

        let prev = circle.previousElementSibling;
        while (prev) {
          prev.classList.contains("dot") || prev.classList.contains("line")
            ? (prev.style.backgroundColor = "black")
            : null;
          prev = prev.previousElementSibling;
        }
        let next = circle.nextElementSibling;
        while (next) {
          next.classList.contains("dot") || next.classList.contains("line")
            ? (next.style.backgroundColor = "lightgray")
            : null;
          next = next.nextElementSibling;
        }
      });
    }
  }

</script>
<!--<div class="container">
  <div class="timeline">
    <div class="dot" id="dot0">
      <p class="dot-text">Dot</p>
    </div>
    <div class="dot" id="dot1">
      <p class="dot-text">Dot</p>
    </div>
    <div class="dot" id="dot2">
      <p class="dot-text">Dot</p>
    </div>
    <div class="dot" id="dot3">
      <p class="dot-text">Dot</p>
    </div>
    <div class="dot" id="dot4">
      <p class="dot-text">Dot</p>
    </div>
    <div class="dot" id="dot5">
      <p class="dot-text">Dot</p>
    </div>
  </div>
</div>
<style>
  .container {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100vh;
  }

  .timeline {
    width: 50%;
    height: 5px;
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    background: black;
  }

  .dot {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background-color: #333;
    position: absolute;
    top: -150%;
    left: calc(20% - 10px);
    transform-origin: center;
    transition: all 0.5s ease-in-out;
  }

  .dot.expanded~.dot {
    background-color: green;
  }

  #dot0 {
    left: 0%;
  }

  #dot1 {
    left: 20%;
  }

  #dot2 {
    left: 40%;
  }

  #dot3 {
    left: 60%;
  }

  #dot4 {
    left: 80%;
  }

  #dot5 {
    left: 100%;
  }

  .dot:hover {
    cursor: pointer
  }

  .dot-text {
    position: absolute;
    top: -35px;
    left: 12px;
    font-size: 12px;
    color: #333;
    transform: rotate(-45deg);
    font-weight: normal;

  }

  .expanded .dot-text {
    font-weight: bold;
  }


  .expanded {
    transform: scale(1.2);
  }
</style>
<script>
  const dots = document.querySelectorAll('.dot');
  dots.forEach(dot => {
    dot.addEventListener('click', e => {
      const expandedDots = document.querySelectorAll('.expanded');
      expandedDots.forEach(dot => dot.classList.remove('expanded'));
      dot.classList.toggle('expanded');
    });
  });
</script>-->
<!--<div class="container">
  <div class="timeline">
    <div class="input">
      <div class="dot-text">Cyber Seguridad</div>
    </div>
    <div class="input">
      <div class="dot-text">Servidores</div>
    </div>
    <div class="input">
      <div class="dot-text">Frontend</div>
    </div>
    <div class="input">
      <div class="dot-text">Backend</div>
    </div>
    <div class="input">
      <div class="dot-text">Linux</div>
    </div>
    <div class="input">
      <div class="dot-text">OS</div>
    </div>
    <div class="input">
      <div class="dot-text">Automatizacion</div>
    </div>
  </div>
</div>
<style>
  .container {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100vh;
  }

  .timeline {
    display: flex;
    align-items: center;
    position: relative;
  }

  .input {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background-color: black;
    position: relative;
    margin-right: 30px;
    transition: all 0.5s ease-in-out;
    z-index: 2;
  }
  .input::before {
    content: "";
    width: 120%;
    height: 5px;
    background-color: black;
    position: absolute;
    left: 44px;
    top: 50%;
    transform: translate(-50%, -50%);
    transition: all 0.5s ease-in-out;

  }

  .input:last-child {
    margin-right: 0;
  }

  .input.clicked,
  .input.clicked::before{
    background-color: grey;
    z-index: 3;
  }

  .dot-text {
    position: absolute;
    top: -35px;
    left: 12px;
    font-size: 12px;
    color: #333;
    transform: rotate(-45deg);
    font-weight: normal;
  }

  .expanded {
    transform: scale(1.2);
  }

  .expanded .dot-text {
    font-weight: bold;
  }

  .input:hover {
    cursor: pointer;
  }
</style>
<script>
  const dots = document.querySelectorAll('.input');
    dots.forEach(dot => {
      dot.addEventListener('click', e => {
        let currentDot = dot;
        while (currentDot) {
          currentDot.classList.remove('clicked');
          currentDot = currentDot.previousElementSibling;
        }
        currentDot = dot;
        while (currentDot) {
          if (currentDot !== dot) currentDot.classList.add('clicked');
          currentDot = currentDot.nextElementSibling;
        }
      });
    });
    dots.forEach(dot => {
      dot.addEventListener('click', e => {
        const expandedDots = document.querySelectorAll('.input.expanded');
        expandedDots.forEach(dot => dot.classList.remove('expanded'));
        dot.classList.add('expanded');
      });
    });

</script>-->
<!--<div class="flex-parent">
	<div class="input-flex-container">
		<div class="input"></div>
		<div class="input"></div>
		<div class="input"></div>
		<div class="input"></div>
		<div class="input"></div>
		<div class="input active"></div>
		<div class="input"></div>
		<div class="input"></div>
		<div class="input"></div>
		<div class="input"></div>
	</div>
</div>
<style>
  div {
    display: block;
}
  .input-flex-container {
    display: flex;
    justify-content: space-around;
    align-items: center;
    width: 80vw;
    height: 100px;
    max-width: 1000px;
    position: relative;
    z-index: 0;
}
.input::before {
    content: "";
    display: block;
    position: absolute;
    right: 0px;
    z-index: -1;
    top: 50%;
    transform: translateY(-50%);
    background-color: #2C3E50;
    width: 50px;
    height: 5px;
    max-width: 50px;
}
  .input::after {
    content: "";
    display: block;
    position: absolute;
    left:0px;
    z-index: -1;
    top: 50%;
    transform: translateY(-50%);
    background-color: #2C3E50;
    width: 50px;
    height: 5px;
    max-width: 50px;
}
  .input {
    width: 25px;
    height: 25px;
    background-color: #2C3E50;
    position: relative;
    border-radius: 50%;
}
</style>-->