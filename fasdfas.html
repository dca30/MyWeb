<div class="movingname">
    <div class="text"></div>
</div>
<style>
    @import 'https://fonts.googleapis.com/css?family=Roboto+Mono:400';

    html,
    body {
        font-family: 'Roboto Mono', monospace;
        background: #212121;
        height: 100%;
    }

    .movingname {
        height: 100%;
        width: 100%;
        justify-content: center;
        align-items: center;
        display: flex;
    }

    .text {
        font-weight: 100;
        font-size: 28px;
        color: #fafafa;
    }

    .dud {
        color: #757575;
    }
</style>
<script>
    "use strict";

    // ——————————————————————————————————————————————————
    // TextScramble
    // ——————————————————————————————————————————————————

    class TextScramble {
        constructor(el) {
            this.el = el;
            this.chars = '!<>-_\\/[]{}—=+*^?#________';
            this.update = this.update.bind(this);
        }
        setText(newText) {
            const oldText = this.el.innerText;
            const length = Math.max(oldText.length, newText.length);
            const promise = new Promise(resolve => this.resolve = resolve);
            this.queue = [];
            for (let i = 0; i < length; i++) {
                const from = oldText[i] || '';
                const to = newText[i] || '';
                const start = Math.floor(Math.random() * 40);
                const end = start + Math.floor(Math.random() * 40);
                this.queue.push({
                    from,
                    to,
                    start,
                    end
                });
            }
            cancelAnimationFrame(this.frameRequest);
            this.frame = 0;
            this.update();
            return promise;
        }
        update() {
            let output = '';
            let complete = 0;
            for (let i = 0, n = this.queue.length; i < n; i++) {
                let {
                    from,
                    to,
                    start,
                    end,
                    char
                } = this.queue[i];
                if (this.frame >= end) {
                    complete++;
                    output += to;
                } else if (this.frame >= start) {
                    if (!char || Math.random() < 0.28) {
                        char = this.randomChar();
                        this.queue[i].char = char;
                    }
                    output += `<span class="dud">${char}</span>`;
                } else {
                    output += from;
                }
            }
            this.el.innerHTML = output;
            if (complete === this.queue.length) {
                this.resolve();
            } else {
                this.frameRequest = requestAnimationFrame(this.update);
                this.frame++;
            }
        }
        randomChar() {
            return this.chars[Math.floor(Math.random() * this.chars.length)];
        }
    }

    // ——————————————————————————————————————————————————
    // Example
    // ——————————————————————————————————————————————————

    const phrases = ['iamdca.es', 'IamDCA', 'I am Diego Calvo Alegre', 'I\'m Diego'/*, 'that there\'s a difference', 'between knowing the path', 'and walking the path'*/];
    const el = document.querySelector('.text');
    const fx = new TextScramble(el);
    let counter = 0;
    const next = () => {
        fx.setText(phrases[counter]).then(() => {
            setTimeout(next, 800);
        });
        counter = (counter + 1) % phrases.length;
    };
    next();
</script>
<!--<div class="outer" id="outer">
    <div class="inner" id="inner">
        <img class="image"
            src="https://images.unsplash.com/photo-1552058767-fc73a3ecca30?ixlib=rb-1.2.1&auto=format&fit=crop&w=5304&q=80">
    </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>

<style>


    .outer {
        position: relative;
        overflow: hidden;
    }

    .outer:before {
        display: block;
        content: "";
        width: 100%;
        padding-top: 149.9245852187%;
    }

    .outer>.inner {
        overflow: hidden;
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
    }

    .outer>.inner img {
        object-fit: cover;
        width: 100%;
        height: 100%;
        transform: scale(1);
        overflow: hidden;
    }
</style>
<script>
    anime({
        targets: '.outer',
        translateY: '-100%',
        direction: 'reverse',
        duration: 3000,
        easing: 'easeInOutCubic',
    })

    anime({
        targets: '.inner',
        translateY: '100%',
        direction: 'reverse',
        duration: 3000,
        easing: 'easeInOutCubic',
    })

    anime({
        targets: '.image',
        scale: 2,
        easing: 'easeInOutQuad',
        direction: 'reverse',
        duration: 3500,
    })
</script>-->